(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{441:function(s,n,a){"use strict";a.r(n);var t=a(2),r=Object(t.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"}),n("p",[s._v("mac m1 全局安装yarn"),n("code",[s._v("npm install -g yarn")]),s._v(" 时提示"),n("code",[s._v("permission denied")]),s._v("权限不足试了几个方法 还是下面这个好用;")])]),n("h2",{attrs:{id:"报错信息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#报错信息"}},[s._v("#")]),s._v(" 报错信息;")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("a9374@9374deMacBook-Pro happyboot-tiger % "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v("                    \n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" code EACCES\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" syscall symlink\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" path "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/lib/node_modules/yarn/bin/yarn.js\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" dest /usr/local/bin/yarnpkg\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" errno "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-13")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" Error: EACCES: permission denied, symlink "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'../lib/node_modules/yarn/bin/yarn.js'")]),s._v(" -"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/usr/local/bin/yarnpkg'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Error: EACCES: permission denied, symlink "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'../lib/node_modules/yarn/bin/yarn.js'")]),s._v(" -"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/usr/local/bin/yarnpkg'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("   errno: -13,\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("   code: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'EACCES'")]),s._v(",\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("   syscall: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'symlink'")]),s._v(",\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("   path: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'../lib/node_modules/yarn/bin/yarn.js'")]),s._v(",\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("   dest: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/usr/local/bin/yarnpkg'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" The operation was rejected by your operating system.\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" It is likely you "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" not have the permissions to access this "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" as the current user\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" If you believe this might be a permissions issue, please double-check the\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" permissions of the "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" and its containing directories, or try running\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" the "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" again as root/Administrator.\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" A complete log of this run can be found in:\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" ERR"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("     /Users/a9374/.npm/_logs/2022-10-26T01_02_09_070Z-debug-0.log\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])]),n("h2",{attrs:{id:"解决方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#解决方法"}},[s._v("#")]),s._v(" 解决方法")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://docs.npmjs.com/resolving-eacces-permissions-errors-when-installing-packages-globally",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方的解决方案"),n("OutboundLink")],1),s._v("\n官方提供了两种解决方案：")]),s._v(" "),n("ol",[n("li",[s._v("重新安装一个node version manager。（官方推荐）\n"),n("a",{attrs:{href:"https://docs.npmjs.com/downloading-and-installing-node-js-and-npm",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考地址"),n("OutboundLink")],1),n("br"),s._v("\n注：这个方法比较繁琐，我选择的是第二种方案。")]),s._v(" "),n("li",[s._v("改变npm默认的路径。\n进入终端，依次输入一下命令")])]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#（1）创建global安装任务的目录")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" ~/.npm-global\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#（2）配置npm使用新的目录")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" prefix "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'~/.npm-global'")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#（3）在~/.profile文件中增加配置")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=~")]),s._v("/.npm-global/bin:"),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#（4）配置文件立即生效")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" ~/.profile\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#（5）重新执行命令")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v(" xxxx \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])])])}),[],!1,null,null,null);n.default=r.exports}}]);